*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;color:#222}
header{padding:12px 16px;border-bottom:1px solid #eee;display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
h1{font-size:18px;margin:0}
.tools{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.tools input,.tools select{padding:8px 10px}
.tilde{padding:0 2px;color:#888}
button{padding:8px 12px;border:1px solid #ddd;background:#fafafa;border-radius:8px;cursor:pointer}
button:hover{background:#f2f2f2}
.view-toggle label{margin-left:6px}
main{padding:16px}

/* テーブル（PC） */
.table-wrap{display:block}
table{width:100%;border-collapse:collapse}
th,td{padding:10px 8px;border-bottom:1px solid #eee;text-align:left;vertical-align:top}
th{position:sticky;top:0;background:#fff;z-index:1}
#pager{display:flex;gap:6px;justify-content:flex-end;padding-top:12px}
#pager button{padding:6px 10px}

/* カード（モバイル） */
.cards{display:none}
.cards .card{border:1px solid #eee;border-radius:12px;padding:12px;margin:10px 0;box-shadow:0 1px 3px rgba(0,0,0,.06)}
.cards .name{font-weight:600;margin-bottom:6px}
.cards .meta{font-size:12px;color:#666;margin-bottom:6px}
.cards .tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.cards .tag{font-size:12px;border:1px solid #ddd;border-radius:999px;padding:2px 8px;background:#fafafa}

/* ドロワー */
#drawer{position:fixed;inset:0;background:rgba(0,0,0,.3);display:none}
#drawer[aria-hidden="false"]{display:block}
.drawer-inner{position:absolute;right:0;top:0;bottom:0;width:460px;max-width:100%;background:#fff;box-shadow:-8px 0 24px rgba(0,0,0,.15);padding:16px 12px 24px;display:flex;flex-direction:column;gap:12px}
.drawer-inner h2{margin:0 28px 0 8px;font-size:16px}
.drawer-inner .close{position:absolute;right:8px;top:8px}
.note-editor{border:1px solid #eee;border-radius:12px;padding:12px}
.note-editor .row{display:flex;gap:8px;align-items:flex-start;margin:6px 0}
.note-editor label{min-width:48px;color:#666;padding-top:8px}
.note-editor input,.note-editor textarea{flex:1;padding:8px 10px;border:1px solid #ddd;border-radius:8px}
.note-editor .actions{justify-content:flex-end}
.save-status{min-height:1.2em;font-size:12px;color:#666}

/* 表示切替（自動/モバイル/PC） */
@media (max-width: 768px){
  body.view-auto .table-wrap{display:none}
  body.view-auto .cards{display:block}
}
body.view-mobile .table-wrap{display:none}
body.view-mobile .cards{display:block}
body.view-desktop .table-wrap{display:block}
body.view-desktop .cards{display:none}
